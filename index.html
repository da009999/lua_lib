<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Ghetto.lua</title>
    <meta content="text/html charet=UTF-8" http-equiv="Content-Type" />
    <meta content="no-cache, max-age=0, must-revalidate, no-store, max-stale=0, post-check=0, pre-check=0" http-equiv="Cache-Control" />
    <link href="/favicon.ico" rel="shortcut icon" />
    <link href="http://fonts.googleapis.com/css?family=Marcellus+SC" media="screen" rel="stylesheet" type="text/css" />
    <link href="/css/vanilla.css?1377001301" media="screen" rel="stylesheet" type="text/css" />
    <link href="/css/highlight.css?1377001301" media="screen" rel="stylesheet" type="text/css" />
    <link href="/css/layout.css?1377001301" media="screen" rel="stylesheet" type="text/css" />
  </head>
  <body>    <div id="Sub_Body">
      <h1>Ghetto.lua</h1>
      <h2>My way of running a simple Lua-backed website for fun.</h2>
      <div class="learn">
        <h3>Lua is not meant for me.</h3>
        <p><span>
        Most of the people using Lua are C programmers who come from a different
        world than regular humans.
        Their idea of simplicity is far different than the retarded web monkeys
        who are reading this site.
        Nevertheless, Lua is a wonderful language.</span></p>
        <div class="highlight"><pre><span class="o">(</span><span class="s2">&quot;Wonderful&quot;</span> <span class="o">==</span> <span class="s2">&quot;not as bad as other languages&quot;</span><span class="o">)</span>
</pre></div>
        <p><span>
        In other words: Lua is no better, no worse than Ruby, Python, and all the
        others that are worse than
      </span><a href="http://factorcode.org">Factor</a><span> and </span><a href="http://www.pharo-project.org/">Smalltalk</a></p>
      </div>
      <div class="learn">
        <h3>Why Lua for the web?</h3>
        <p><span>
        I will not answer this. If you want to use some other language, fine. Go use it.
        There is no compelling reason to use it if you are already happy with your current language(s).
      </span></p>
        <p><span>
        I use it because: it&#39;s easy to compile/install, runs fast enough for me, and barely uses any memory.
      </span></p>
      </div>
      <div class="learn">
        <h3>Learning Lua is easy at first. Then it gets harder.</h3>
        <p><span>
        The book, Programming in Lua 3rd Edition (for 5.2), is already partially outdated.
        It used a pre-release Lua 5.2 version.
      </span><a href="http://stackoverflow.com/a/11280629/841803">Here is an example.</a><span>
        You will have to rely on blogs, Google, and </span><a href="http://stackoverflow.com/questions/tagged/lua">stackoverflow</a><span>.</span><span>
        I won&#39;t blame you if you run screaming back to easy-to-use Rack and Sinatra.
      </span></p>
      </div>
      <div class="learn">
        <h3>Lua the easy way.</h3>
        <p><span>
        I&#39;m sticking with the LuaJIT 2.0 for now.
        It is compatible with 5.1 and just as easy to install.
        It is easy to compile. I uninstalled the Lua5.1 Ubuntu package,
        wrote a
      </span><a href="https://github.com/da99/boot_ups/blob/master/bin/install/luajit">simple shell script</a><span>
        to compile/install
      </span><a href="http://luajit.org/install.html">LuaJIT 2.0</a><span>,
        and put the LuaJIT bin dir in my $PATH.
      </span></p>
        <p><span>
        Things are still being debated about Lua 5.2 and the future. Just look at this page:
      </span><a href="http://lua-users.org/wiki/SandBoxes">Sand Boxes</a><span>.
        It&#39;s full of warnings, complaints, and debates. My needs are simple (but with limited RAM/CPU).
        Therefore, I will:
        stick with LuaJIT, use it as 5.1, and use openresty. If you want to learn more
        about it: use google.
      </span></p>
      </div>
      <div class="learn">
        <h3>Learning Lua</h3>
        <ul>
          <li><span>Programming in Lua, 5.2 (not online for free yet)</span></li>
          <li><a href="http://www.lua.org/manual/5.1/">Lua 5.1 Manual</a></li>
          <li><a href="http://leafo.net/lapis/">Lapis</a><span>.</span><br />
            <span>
          Be sure to click on the Lua version of the code.
          Scroll down a little and a header appears with MoonScript/Lua options.
        </span></li>
          <li><span>I&#39;m avoiding MoonScript for now. I&#39;m having enough trouble Lua and limited time.</span></li>
        </ul>
      </div>
      <div class="learn">
        <ul>
          <li><a href="http://phrogz.net/Lua/">OOP-ish Lua</a></li>
          <li><a href="http://darthdeus.github.io/blog/2013/08/19/postgresql-basics-by-example/">PostgresSQL Basics by Example</a></li>
          <li><a href="http://notebook.kulchenko.com/programming/lua-good-different-bad-and-ugly-parts">Lua: Good, bad, and ugly parts</a></li>
          <li><a href="http://studio.zerobrane.com/">Zerobrane Studio: IDE w/live coding</a></li>
          <li><a href="http://openresty.org/download/agentzh-nginx-tutorials-en.html">NGINX Tutorials by Openresty co-creator</a></li>
        </ul>
      </div>
      <div class="learn">
        <h3>More to come:</h3>
        <p><span>That&#39;s all for now. </span><span>Send complaints, suggestions, and hate mail to: </span><a href="https://github.com/ghetto-lua/ghetto-lua.github.io/issues">Ghetto.lua</a></p>
        <h3>What I&#39;m up to:</h3>
        <p>I&#39;m trying to find a well-maintained lib that does this: </p>
        <div class="highlight"><pre><span class="nb">require</span> <span class="s1">&#39;</span><span class="s">rack.lua&#39;</span>

<span class="n">USE</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="n">resp</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">req</span><span class="p">.</span><span class="n">header</span><span class="p">[</span><span class="s2">&quot;</span><span class="s">INVALID-HeAder&quot;</span><span class="p">]</span> <span class="k">then</span>
    <span class="n">resp</span><span class="p">.</span><span class="n">status</span>  <span class="o">=</span> <span class="mi">406</span>
    <span class="k">return</span> <span class="s2">&quot;</span><span class="s">Header not allowed: INVALID-HeAder&quot;</span>
  <span class="k">end</span>
<span class="k">end</span><span class="p">)</span>

<span class="n">GET</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">/hello/sammy&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span>
  <span class="k">return</span> <span class="s2">&quot;</span><span class="s">Hello World!&quot;</span>
<span class="k">end</span><span class="p">)</span>
</pre></div></div>
    </div>
  </body>
</html>
